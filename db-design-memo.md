
- [尽量不要把计算逻辑放到数据库上](#尽量不要把计算逻辑放到数据库上)
- [敏感数据加密](#敏感数据加密)
- [安全设计](#安全设计)


#### 尽量不要把计算逻辑放到数据库上
- 通常而言, 为了避免应用程序把太多业务计算逻辑放到数据库端, DBA 不建议在 MySQL 数据库上使用如下几种数据库对象:
  - 视图 (View)
  - 存储过程 (Stored Procedure), 包括函数 (Stored Function), 触发器 (Trigger) 和事件调度器 (Event Scheduler)
  - 外键 (Foreign Key)
- 一般而言, 我们倾向于把数据库当做纯粹的存储基础设施. 实际上, 数据库事务和唯一键 (Unique Key) 也是业务计算逻辑, 但通常我们不会舍弃 MySQL 的这些特性. 当然, 系统规模发展壮大到一定程度之后, 由应用程序接管数据库事务和唯一键约束也并非不可能发生. 

#### 敏感数据加密
- 何为敏感数据? 
  - 可以特定地追踪到某个个体的信息都应被视为敏感数据. 例如: 姓名, 身份证号码等. 
  - 有时候单个信息项无法定位到某个个体, 但若干个这样的项目组合起来之后, 就能关联到某个个体, 这样的信息也应被视为敏感数据. 例如: 无法凭借出生日期追踪到某个人, 但组合使用 "出生日期 + 母亲的姓名" 两项数据就能特定到个人. 很多平时觉得不敏感的数据, 一旦被泄露出去, 就立刻能从用户的反应中体会到其重要性, 比如用户的登录 IP 和设备 ID.
  - 参考资料: 维基百科上的 [Personal data 词条](https://en.wikipedia.org/wiki/Personal_data)
- 不同市场和行业, 不同地区和国家, 对于敏感数据可能会有不同的定义. 可以从以下几个出发点去思考, 对于你所在的组织而言, 哪些数据应该被列为敏感数据? 不妨化身为用户, 哪些信息不能丢掉? 也不妨设想一下: 如果你所在的组织发生数据泄露事件, 哪些信息被泄露出去最为致命? 
  - 常识: 大众普遍认为敏感的数据, 应该加密. 比如密码和各种 login token.
  - 行业规范: 如果所处行业有明确的安全加密规范, 则应该严格遵守. 比如 PCI DSS 是 VISA/Master 等信用卡组织制定的规范, 它对于一张信用卡上的信息如何存储和使用做了详尽的规定.
  - 法律规定: 如果所处地区有明确的个人隐私保护法, 则应严格遵守. 比如身份证信息, 护照信息, 生物识别信息(指纹和面部识别等).
  - 参考资料: 维基百科上的 [ISMS: Information Security Management System](https://en.wikipedia.org/wiki/Information_security_management)
- 一个不完全列表:
  - 身份证号: 比如各国的护照号码和中国的居民身份证号等. 除此之外, 许多国家没有类似居民身份证这样的个人身份证明, 但是有一些替代手段, 比如美国的社会保险号和日本的驾驶证号都普遍被用于做个人身份识别之用.
  - 信用卡号码
  - 银行账户信息: 包括银行卡号和户头姓名. 在银行业实行实名注册制度的国家和地区, 银行账户是较为常见的识别个人身份真伪的信息. 例如微信支付的身份认证手段之一即是要求用户绑定银行账户.
  - 驾驶证和车辆注册信息
  - 家庭住址
  - 生物识别信息: 面部识别信息, 指纹, 虹膜, 手写签名, 基因信息等.
  - 电话号码
  - 电子邮件
  - 姓名: 具体而真实的姓氏和名字. 泛指的部分不算敏感信息. 例如, 一般不把论坛昵称当做敏感信息处理.
  - 出生信息: 出生地和出生日期
  - 密码和登录 token
  - 数字身份证: 比如 Facebook ID 和微信号.
- 参考资料: 维基百科上的 [ISMS: Information Security Management System](https://en.wikipedia.org/wiki/Information_security_management)

#### 安全设计
- 应该把安全需求当做产品的基本需求. 一般系统出现了诸如数据泄露之类的安全事故, 都是业务架构和技术架构没有做好. 
- 每一份产品设计文档里都应该有专门的安全设计和评估环节, 须明确指出该产品特性涉及到哪些敏感信息; 评估敏感信息的收集->处理->存储->销毁过程中具体如何保护它以规避风险. 


